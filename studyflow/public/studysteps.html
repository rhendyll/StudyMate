<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>StudyMate Quizzes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet"/>
  <style>
    html, body {
      overflow: hidden;
    }
    body {
      font-family: 'Comic Neue', cursive;
      background: #ffffff;
    }
    .cartoon-book {
      border-radius: 20px;
      transition: transform 0.3s ease;
      filter: saturate(1.0) contrast(1.1) brightness(1.0);
      image-rendering: auto;
    }
    .cartoon-book:hover {
      transform: scale(1.05) rotate(-2deg);
    }
    .study-mate-text {
      font-weight: 700;
      font-size: 1.5rem; /* text-5xl approx */
      background: linear-gradient(90deg, #000000 0%, #2563eb 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
      user-select: none;
    }
  </style>
</head>
<body class="bg-white text-gray-900">
  <header class="flex items-center justify-between border-b border-gray-300 px-4 sm:px-6 md:px-10 py-3">
    <div class="flex items-center space-x-0">
      <img alt="Clear cartoon style open book with bright orange and blue pages, thick outlines and simplified shapes" class="cartoon-book w-12 h-auto" src="https://storage.googleapis.com/a1aa/image/1d895380-bc86-4e62-44af-0053320c44d6.jpg"/>
      <span class="study-mate-text">
        StudyMate
      </span>
    </div>
    <nav class="hidden md:flex justify-center flex-1 space-x-12 text-gray-00 text-m font-normal">
      <a class="min-w-[50px] text-center hover:text-gray-900" href="index_with_music.html">Dashboard</a>
      <a class="min-w-[50px] text-center hover:text-gray-900" href="materials.html">Materials</a>
      <a class="min-w-[50px] text-center hover:text-gray-900 font-semibold" href="quizzes.html">Quizzes</a>
      <a class="min-w-[50px] text-center hover:text-gray-900" href="studysteps.html">Study Steps</a>
    </nav>
    <div class="flex items-center space-x-6 text-gray-600 text-lg">
      <button aria-label="Notifications" class="hover:text-gray-900">
        <i class="far fa-bell"></i>
      </button>
      <button aria-label="User Account" class="hover:text-gray-900">
        <i class="far fa-user"></i>
      </button>
    </div>
  </header>

<main class="flex flex-col md:flex-row flex-wrap max-w-[1200px] mx-auto px-4 sm:px-6 md:px-10 py-6 gap-6 overflow-x-auto"></main>
<body class="bg-white p-4">
  <div class="max-w-4xl mx-auto border border-gray-200 rounded-md shadow-sm">
    <button
      id="toggleButton"
      type="button"
      aria-expanded="true"
      aria-controls="progressContent"
      class="w-full flex justify-between items-center px-4 py-3 text-gray-900 text-sm font-normal border border-gray-200 rounded-t-md focus:outline-none focus:ring-2 focus:ring-blue-500"
    >
      <span>Study Progress</span>
      <svg
        id="toggleIcon"
        class="w-4 h-4 text-gray-500 transition-transform duration-200"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
        aria-hidden="true"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
      </svg>
    </button>
    <div id="progressContent" class="p-4 space-y-2 border border-t-0 border-gray-200 rounded-b-md">
      <div
        class="flex items-center space-x-3 border border-gray-200 rounded-md px-4 py-2 text-gray-700 text-sm"
      >
        <span
          class="flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-green-600 border border-green-300 cursor-pointer"
          aria-hidden="true"
        >
          <i class="fas fa-check"></i>
        </span>
        <span class="flex-grow">Complete Week 1 Readings</span>
        <button
          aria-label="Edit task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-edit"></i>
        </button>
        <button
          aria-label="Delete task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
      <div
        class="flex items-center space-x-3 border border-gray-200 rounded-md px-4 py-2 text-gray-700 text-sm"
      >
        <span
          class="flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-green-600 border border-green-300 cursor-pointer"
          aria-hidden="true"
        >
          <i class="fas fa-check"></i>
        </span>
        <span class="flex-grow">Watch Video Lectures</span>
        <button
          aria-label="Edit task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-edit"></i>
        </button>
        <button
          aria-label="Delete task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
      <div
        class="flex items-center space-x-3 border border-gray-200 rounded-md px-4 py-2 text-gray-400 text-sm"
      >
        <span
          class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-400 border border-gray-300 cursor-pointer"
          aria-hidden="true"
        >
          <i class="fas fa-times"></i>
        </span>
        <span class="flex-grow">Submit Practice Exercises</span>
        <button
          aria-label="Edit task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-edit"></i>
        </button>
        <button
          aria-label="Delete task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
      <div
        class="flex items-center space-x-3 border border-gray-200 rounded-md px-4 py-2 text-gray-400 text-sm"
      >
        <span
          class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-400 border border-gray-300 cursor-pointer"
          aria-hidden="true"
        >
          <i class="fas fa-times"></i>
        </span>
        <span class="flex-grow">Take Practice Quiz</span>
        <button
          aria-label="Edit task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-edit"></i>
        </button>
        <button
          aria-label="Delete task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
      <div
        class="flex items-center space-x-3 border border-gray-200 rounded-md px-4 py-2 text-gray-400 text-sm"
      >
        <span
          class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-400 border border-gray-300 cursor-pointer"
          aria-hidden="true"
        >
          <i class="fas fa-times"></i>
        </span>
        <span class="flex-grow">Attend Study Group Session</span>
        <button
          aria-label="Edit task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-edit"></i>
        </button>
        <button
          aria-label="Delete task"
          class="text-gray-400 hover:text-gray-600 focus:outline-none"
          type="button"
        >
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
    </div>

    <form id="addTaskForm" class="border-t border-gray-200 px-4 py-3 flex items-center space-x-2">
      <input
        type="text"
        id="newTaskInput"
        placeholder="Add new task"
        class="flex-grow border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        required
        aria-label="Add new task"
      />
      <button
        type="submit"
        class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        Add
      </button>
    </form>
  </div>

  <script>
    const toggleButton = document.getElementById('toggleButton');
    const progressContent = document.getElementById('progressContent');
    const toggleIcon = document.getElementById('toggleIcon');

    toggleButton.addEventListener('click', () => {
      const expanded = toggleButton.getAttribute('aria-expanded') === 'true';
      toggleButton.setAttribute('aria-expanded', !expanded);
      if (expanded) {
        progressContent.style.display = 'none';
        toggleIcon.style.transform = 'rotate(-90deg)';
      } else {
        progressContent.style.display = 'block';
        toggleIcon.style.transform = 'rotate(0deg)';
      }
    });

    function createTaskElement(taskText, completed = false) {
      const taskDiv = document.createElement('div');
      taskDiv.className = `flex items-center space-x-3 border border-gray-200 rounded-md px-4 py-2 text-sm ${
        completed ? 'text-green-700' : 'text-gray-400'
      }`;

      const iconSpan = document.createElement('span');
      iconSpan.className = `flex items-center justify-center w-6 h-6 rounded-full border cursor-pointer ${
        completed
          ? 'bg-green-100 text-green-600 border-green-300'
          : 'bg-gray-100 text-gray-400 border-gray-300'
      }`;
      iconSpan.setAttribute('aria-hidden', 'true');
      iconSpan.innerHTML = completed ? '<i class="fas fa-check"></i>' : '<i class="fas fa-times"></i>';

      const textSpan = document.createElement('span');
      textSpan.className = 'flex-grow';
      textSpan.textContent = taskText;

      const editBtn = document.createElement('button');
      editBtn.type = 'button';
      editBtn.setAttribute('aria-label', 'Edit task');
      editBtn.className = 'text-gray-400 hover:text-gray-600 focus:outline-none';
      editBtn.innerHTML = '<i class="fas fa-edit"></i>';

      const deleteBtn = document.createElement('button');
      deleteBtn.type = 'button';
      deleteBtn.setAttribute('aria-label', 'Delete task');
      deleteBtn.className = 'text-gray-400 hover:text-gray-600 focus:outline-none';
      deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';

      taskDiv.appendChild(iconSpan);
      taskDiv.appendChild(textSpan);
      taskDiv.appendChild(editBtn);
      taskDiv.appendChild(deleteBtn);

      // Toggle completion on icon click
      iconSpan.addEventListener('click', () => {
        const isCompleted = iconSpan.classList.contains('bg-green-100');
        if (isCompleted) {
          iconSpan.className = 'flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-400 border border-gray-300 cursor-pointer';
          iconSpan.innerHTML = '<i class="fas fa-times"></i>';
          taskDiv.classList.remove('text-green-700');
          taskDiv.classList.add('text-gray-400');
        } else {
          iconSpan.className = 'flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-green-600 border border-green-300 cursor-pointer';
          iconSpan.innerHTML = '<i class="fas fa-check"></i>';
          taskDiv.classList.remove('text-gray-400');
          taskDiv.classList.add('text-green-700');
        }
      });

      // Delete task on delete button click
      deleteBtn.addEventListener('click', () => {
        taskDiv.remove();
      });

      // Edit task on edit button click
      editBtn.addEventListener('click', () => {
        // Replace textSpan with input
        const input = document.createElement('input');
        input.type = 'text';
        input.value = textSpan.textContent;
        input.className = 'flex-grow border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500';
        taskDiv.replaceChild(input, textSpan);
        input.focus();

        // Save changes on blur or Enter key
        function save() {
          const newValue = input.value.trim();
          if (newValue) {
            textSpan.textContent = newValue;
          }
          taskDiv.replaceChild(textSpan, input);
          cleanup();
        }
        function cleanup() {
          input.removeEventListener('blur', save);
          input.removeEventListener('keydown', onKeyDown);
        }
        function onKeyDown(e) {
          if (e.key === 'Enter') {
            e.preventDefault();
            save();
          } else if (e.key === 'Escape') {
            taskDiv.replaceChild(textSpan, input);
            cleanup();
          }
        }
        input.addEventListener('blur', save);
        input.addEventListener('keydown', onKeyDown);
      });

      return taskDiv;
    }

    // Add event listeners to existing tasks
    function initExistingTasks() {
      const tasks = progressContent.querySelectorAll('div.flex.items-center');
      tasks.forEach((taskDiv) => {
        const iconSpan = taskDiv.querySelector('span:first-child');
        const textSpan = taskDiv.querySelector('span.flex-grow');
        const editBtn = taskDiv.querySelector('button[aria-label="Edit task"]');
        const deleteBtn = taskDiv.querySelector('button[aria-label="Delete task"]');

        // Toggle completion
        iconSpan.addEventListener('click', () => {
          const isCompleted = iconSpan.classList.contains('bg-green-100');
          if (isCompleted) {
            iconSpan.className = 'flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-gray-400 border border-gray-300 cursor-pointer';
            iconSpan.innerHTML = '<i class="fas fa-times"></i>';
            taskDiv.classList.remove('text-green-700');
            taskDiv.classList.add('text-gray-400');
          } else {
            iconSpan.className = 'flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-green-600 border border-green-300 cursor-pointer';
            iconSpan.innerHTML = '<i class="fas fa-check"></i>';
            taskDiv.classList.remove('text-gray-400');
            taskDiv.classList.add('text-green-700');
          }
        });

        // Delete task
        deleteBtn.addEventListener('click', () => {
          taskDiv.remove();
        });

        // Edit task
        editBtn.addEventListener('click', () => {
          const input = document.createElement('input');
          input.type = 'text';
          input.value = textSpan.textContent;
          input.className = 'flex-grow border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500';
          taskDiv.replaceChild(input, textSpan);
          input.focus();

          function save() {
            const newValue = input.value.trim();
            if (newValue) {
              textSpan.textContent = newValue;
            }
            taskDiv.replaceChild(textSpan, input);
            cleanup();
          }
          function cleanup() {
            input.removeEventListener('blur', save);
            input.removeEventListener('keydown', onKeyDown);
          }
          function onKeyDown(e) {
            if (e.key === 'Enter') {
              e.preventDefault();
              save();
            } else if (e.key === 'Escape') {
              taskDiv.replaceChild(textSpan, input);
              cleanup();
            }
          }
          input.addEventListener('blur', save);
          input.addEventListener('keydown', onKeyDown);
        });
      });
    }

    initExistingTasks();

    const addTaskForm = document.getElementById('addTaskForm');
    const newTaskInput = document.getElementById('newTaskInput');

    addTaskForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const taskText = newTaskInput.value.trim();
      if (taskText === '') return;

      const newTask = createTaskElement(taskText, false);
      progressContent.appendChild(newTask);

      newTaskInput.value = '';
    });
  </script>
</body>
</html>
